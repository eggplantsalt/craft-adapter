# VLA-Adapter + CRaFT é¡¹ç›®ç›®å½•ç»“æ„

**æ›´æ–°æ—¶é—´**: 2025-02-27  
**ç‰ˆæœ¬**: Step 1 & 2 å®Œæˆå

---

## ğŸ“ å®Œæ•´ç›®å½•æ ‘

```
VLA-Adapter/
â”‚
â”œâ”€â”€ ğŸ“„ README.md                                    # é¡¹ç›®ä¸»æ–‡æ¡£ï¼ˆè‹±æ–‡ï¼‰
â”œâ”€â”€ ğŸ“„ LICENSE                                      # å¼€æºåè®®
â”œâ”€â”€ ğŸ“„ pyproject.toml                               # Python é¡¹ç›®é…ç½®
â”œâ”€â”€ ğŸ“„ our_envs.txt                                 # ç¯å¢ƒä¾èµ–åˆ—è¡¨
â”‚
â”œâ”€â”€ ğŸ“ docs/                                        # ğŸ“š æ–‡æ¡£ç›®å½•
â”‚   â”œâ”€â”€ ğŸ“„ CHANGELOG.md                             # âœ… æ–‡æ¡£å˜æ›´æ—¥å¿—ï¼ˆæ–°å»ºï¼‰
â”‚   â”œâ”€â”€ ğŸ”’ CONTEXT.md                               # é¡¹ç›®ä¸Šä¸‹æ–‡ï¼ˆå—ä¿æŠ¤ï¼‰
â”‚   â”œâ”€â”€ ğŸ”’ IDEA.md                                  # CRaFT æ ¸å¿ƒæ€æƒ³ï¼ˆå—ä¿æŠ¤ï¼‰
â”‚   â”œâ”€â”€ ğŸ“ craft/                                   # âœ… CRaFT å¼€å‘æ–‡æ¡£ï¼ˆæ–°å»ºç›®å½•ï¼‰
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ craft_progress.md                    # å¼€å‘è¿›åº¦è®°å½•
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ PHASE_7.5_SUMMARY.md                 # Phase 7.5 å®ŒæˆæŠ¥å‘Š
â”‚   â”‚   â””â”€â”€ ğŸ“„ STEP1_2_COMPLETION_REPORT.md         # Step 1&2 å®ŒæˆæŠ¥å‘Š
â”‚   â””â”€â”€ ğŸ“ zh-CN/                                   # ğŸ”œ ä¸­æ–‡æ–‡æ¡£ç›®å½•ï¼ˆå¾…å¡«å……ï¼‰
â”‚       â”œâ”€â”€ ğŸ“„ 01_é¡¹ç›®ç»“æ„æŒ‡å—.md                   # å¾…åˆ›å»º
â”‚       â”œâ”€â”€ ğŸ“„ 02_å¿«é€Ÿå¼€å§‹.md                       # å¾…åˆ›å»º
â”‚       â”œâ”€â”€ ğŸ“„ 03_æ•°æ®é›†å‡†å¤‡.md                     # å¾…åˆ›å»º
â”‚       â”œâ”€â”€ ğŸ“„ 04_è®­ç»ƒæŒ‡å—.md                       # å¾…åˆ›å»º
â”‚       â”œâ”€â”€ ğŸ“„ 05_è¯„ä¼°æŒ‡å—.md                       # å¾…åˆ›å»º
â”‚       â”œâ”€â”€ ğŸ“„ 06_æ¶æ„æ·±åº¦è§£æ.md                   # å¾…åˆ›å»º
â”‚       â”œâ”€â”€ ğŸ“„ 07_æ•…éšœæ’æŸ¥.md                       # å¾…åˆ›å»º
â”‚       â””â”€â”€ ğŸ“„ 08_APIå‚è€ƒ.md                        # å¾…åˆ›å»º
â”‚
â”œâ”€â”€ ğŸ“ prismatic/                                   # ğŸ§  æ ¸å¿ƒæ¨¡å‹ä»£ç 
â”‚   â”œâ”€â”€ ğŸ“ training/                                # è®­ç»ƒç›¸å…³æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ craft_utils.py                       # â­ CRaFT æ ¸å¿ƒå·¥å…·ï¼ˆ517è¡Œä¸­æ–‡æ³¨é‡Šï¼‰
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ train_utils.py                       # è®­ç»ƒå·¥å…·å‡½æ•°
â”‚   â”‚   â””â”€â”€ ğŸ“„ metrics.py                           # æŒ‡æ ‡è®¡ç®—
â”‚   â”œâ”€â”€ ğŸ“ models/                                  # æ¨¡å‹æ¶æ„
â”‚   â”‚   â”œâ”€â”€ ğŸ“ backbones/                           # éª¨å¹²ç½‘ç»œ
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“ llm/                             # è¯­è¨€æ¨¡å‹
â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“ vision/                          # è§†è§‰æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ action_heads.py                      # åŠ¨ä½œé¢„æµ‹å¤´
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ projectors.py                        # æŠ•å½±å™¨
â”‚   â”‚   â””â”€â”€ ğŸ“„ load.py                              # æ¨¡å‹åŠ è½½
â”‚   â”œâ”€â”€ ğŸ“ vla/                                     # VLA ä¸“ç”¨æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ ğŸ“ datasets/                            # æ•°æ®é›†åŠ è½½
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ action_tokenizer.py                  # åŠ¨ä½œåˆ†è¯å™¨
â”‚   â”‚   â””â”€â”€ ğŸ“„ constants.py                         # å¸¸é‡å®šä¹‰
â”‚   â””â”€â”€ ğŸ“ extern/hf/                               # HuggingFace é›†æˆ
â”‚       â”œâ”€â”€ ğŸ“„ modeling_prismatic.py                # Prismatic æ¨¡å‹å®šä¹‰
â”‚       â””â”€â”€ ğŸ“„ processing_prismatic.py              # æ•°æ®å¤„ç†
â”‚
â”œâ”€â”€ ğŸ“ vla-scripts/                                 # ğŸš€ VLA è®­ç»ƒ/è¯„ä¼°è„šæœ¬
â”‚   â”œâ”€â”€ ğŸ“„ finetune.py                              # â­ ä¸»è®­ç»ƒè„šæœ¬ï¼ˆå·²é›†æˆ CRaFTï¼‰
â”‚   â”œâ”€â”€ ğŸ“„ evaluate_calvin.py                       # CALVIN è¯„ä¼°
â”‚   â””â”€â”€ ğŸ“ extern/                                  # å¤–éƒ¨å·¥å…·
â”‚       â””â”€â”€ ğŸ“„ convert_openvla_weights_to_hf.py     # æƒé‡è½¬æ¢
â”‚
â”œâ”€â”€ ğŸ“ craft_experiments/                           # ğŸ§ª CRaFT å®éªŒè„šæœ¬
â”‚   â”œâ”€â”€ ğŸ“ 01_main_results/                         # Table 1: ä¸»å®éªŒ
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ run_table1_experiments.sh            # âœ… è‡ªåŠ¨åŒ–è„šæœ¬ï¼ˆå·²æ·»åŠ ä¸­æ–‡æ³¨é‡Šï¼‰
â”‚   â”‚   â””â”€â”€ ğŸ“„ README.md                            # å®éªŒè¯´æ˜
â”‚   â”œâ”€â”€ ğŸ“ 02_stability_efficiency/                 # Table 2: Few-shot å®éªŒ
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ run_table2_fewshot.sh                # è‡ªåŠ¨åŒ–è„šæœ¬
â”‚   â”‚   â””â”€â”€ ğŸ“„ README.md                            # å®éªŒè¯´æ˜
â”‚   â”œâ”€â”€ ğŸ“ 03_ablations/                            # Table 4: æ¶ˆèå®éªŒ
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ run_table4_ablations.sh              # è‡ªåŠ¨åŒ–è„šæœ¬
â”‚   â”‚   â””â”€â”€ ğŸ“„ README.md                            # å®éªŒè¯´æ˜
â”‚   â””â”€â”€ ğŸ“ common_utils/                            # é€šç”¨å·¥å…·
â”‚       â””â”€â”€ ğŸ“„ log_parser.py                        # âœ… æ—¥å¿—è§£æå™¨ï¼ˆå·²æ·»åŠ ä¸­æ–‡æ³¨é‡Šï¼‰
â”‚
â”œâ”€â”€ ğŸ“ experiments/robot/                           # ğŸ¤– æœºå™¨äººè¯„ä¼°ä»£ç 
â”‚   â”œâ”€â”€ ğŸ“ libero/                                  # LIBERO è¯„ä¼°
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ run_libero_eval.py                   # LIBERO è¯„ä¼°è„šæœ¬
â”‚   â”‚   â””â”€â”€ ğŸ“„ libero_utils.py                      # LIBERO å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ ğŸ“„ openvla_utils.py                         # OpenVLA å·¥å…·
â”‚   â””â”€â”€ ğŸ“„ robot_utils.py                           # æœºå™¨äººé€šç”¨å·¥å…·
â”‚
â”œâ”€â”€ ğŸ“ pretrained_models/                           # ğŸ’¾ é¢„è®­ç»ƒæ¨¡å‹
â”‚   â”œâ”€â”€ ğŸ“ configs/                                 # æ¨¡å‹é…ç½®æ–‡ä»¶
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ config.json
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ modeling_prismatic.py
â”‚   â”‚   â””â”€â”€ ğŸ“„ processing_prismatic.py
â”‚   â””â”€â”€ ğŸ“ prism-qwen25-extra-dinosiglip-224px-0_5b/  # Prismatic VLM
â”‚       â””â”€â”€ ğŸ“„ README.md
â”‚
â”œâ”€â”€ ğŸ“ data/                                        # ğŸ’¿ æ•°æ®é›†ç›®å½•ï¼ˆç”¨æˆ·è‡ªè¡Œä¸‹è½½ï¼‰
â”‚   â””â”€â”€ ğŸ“ libero/                                  # LIBERO æ•°æ®é›†
â”‚       â”œâ”€â”€ ğŸ“ libero_spatial_no_noops/
â”‚       â”œâ”€â”€ ğŸ“ libero_object_no_noops/
â”‚       â”œâ”€â”€ ğŸ“ libero_goal_no_noops/
â”‚       â””â”€â”€ ğŸ“ libero_10_no_noops/
â”‚
â”œâ”€â”€ ğŸ“ runs/                                        # ğŸ“Š è®­ç»ƒè¾“å‡ºç›®å½•
â”‚   â””â”€â”€ (è®­ç»ƒç”Ÿæˆçš„ checkpoint å’Œæ—¥å¿—)
â”‚
â”œâ”€â”€ ğŸ“ eval_logs/                                   # ğŸ“ è¯„ä¼°æ—¥å¿—
â”‚   â””â”€â”€ (è¯„ä¼°ç”Ÿæˆçš„æ—¥å¿—æ–‡ä»¶)
â”‚
â””â”€â”€ ğŸ“ figure/                                      # ğŸ–¼ï¸ å›¾ç‰‡èµ„æº
    â”œâ”€â”€ ğŸ“„ Framework.png                            # æ¡†æ¶å›¾
    â””â”€â”€ ğŸ“„ Teaser.png                               # æ•ˆæœå›¾
```

---

## ğŸ¯ å…³é”®æ–‡ä»¶è¯´æ˜

### â­ CRaFT æ ¸å¿ƒä»£ç ï¼ˆå¿…è¯»ï¼‰

| æ–‡ä»¶è·¯å¾„ | è¯´æ˜ | ä¸­æ–‡æ³¨é‡Š |
|---------|------|---------|
| `prismatic/training/craft_utils.py` | CRaFT æ ¸å¿ƒç®—æ³•å®ç° | âœ… 517è¡Œè¯¦ç»†æ³¨é‡Š |
| `vla-scripts/finetune.py` | è®­ç»ƒè„šæœ¬ï¼ˆå·²é›†æˆ CRaFTï¼‰ | âš ï¸ éƒ¨åˆ†å¾…è¡¥å…… |

### ğŸ§ª å®éªŒè„šæœ¬ï¼ˆä¸€é”®è¿è¡Œï¼‰

| æ–‡ä»¶è·¯å¾„ | è¯´æ˜ | ä¸­æ–‡æ³¨é‡Š |
|---------|------|---------|
| `craft_experiments/01_main_results/run_table1_experiments.sh` | Table 1 ä¸»å®éªŒ | âœ… å®Œæ•´æ³¨é‡Š |
| `craft_experiments/02_stability_efficiency/run_table2_fewshot.sh` | Table 2 Few-shot | ğŸ“ å¾…è¡¥å…… |
| `craft_experiments/03_ablations/run_table4_ablations.sh` | Table 4 æ¶ˆèå®éªŒ | ğŸ“ å¾…è¡¥å…… |

### ğŸ› ï¸ å·¥å…·è„šæœ¬

| æ–‡ä»¶è·¯å¾„ | è¯´æ˜ | ä¸­æ–‡æ³¨é‡Š |
|---------|------|---------|
| `craft_experiments/common_utils/log_parser.py` | æ—¥å¿—è§£æä¸ç»“æœæå– | âœ… å®Œæ•´æ³¨é‡Š |

### ğŸ“š æ–‡æ¡£ï¼ˆä¸­æ–‡ï¼‰

| æ–‡ä»¶è·¯å¾„ | è¯´æ˜ | çŠ¶æ€ |
|---------|------|------|
| `docs/CHANGELOG.md` | æ–‡æ¡£å˜æ›´æ—¥å¿— | âœ… å·²åˆ›å»º |
| `docs/craft/craft_progress.md` | å¼€å‘è¿›åº¦è®°å½• | âœ… å·²å½’æ¡£ |
| `docs/zh-CN/*.md` | ä¸­æ–‡æ–‡æ¡£ä½“ç³»ï¼ˆ8ä¸ªæ–‡æ¡£ï¼‰ | ğŸ”œ å¾…åˆ›å»º |

---

## ğŸ” ç›®å½•ç»“æ„ç‰¹ç‚¹

### âœ… ä¼˜ç‚¹

1. **ç‰©ç†éš”ç¦»æ¸…æ™°**
   - CRaFT æ ¸å¿ƒä»£ç åœ¨ `prismatic/training/craft_utils.py`
   - å®éªŒè„šæœ¬ç»Ÿä¸€åœ¨ `craft_experiments/`
   - åŸç‰ˆ VLA-Adapter ä»£ç ä¿æŒä¸å˜

2. **æ–‡æ¡£ç»„ç»‡åˆç†**
   - å¼€å‘æ–‡æ¡£å½’æ¡£åˆ° `docs/craft/`
   - ç”¨æˆ·æ–‡æ¡£è§„åˆ’åœ¨ `docs/zh-CN/`
   - æ ¹ç›®å½•ä¿æŒæ•´æ´

3. **å®éªŒè„šæœ¬æ¨¡å—åŒ–**
   - æŒ‰è®ºæ–‡è¡¨æ ¼åˆ†ç›®å½•ï¼ˆTable 1/2/4ï¼‰
   - æ¯ä¸ªå®éªŒæœ‰ç‹¬ç«‹çš„ README
   - é€šç”¨å·¥å…·ç»Ÿä¸€åœ¨ `common_utils/`

4. **æ˜“äºç»´æŠ¤**
   - å˜æ›´æ—¥å¿—è¿½è¸ªæ‰€æœ‰ä¿®æ”¹
   - ä¸­æ–‡æ³¨é‡Šé™ä½ç†è§£é—¨æ§›
   - ç›®å½•ç»“æ„ä¸€ç›®äº†ç„¶

---

## ğŸ“ ä¸åŸç‰ˆ VLA-Adapter çš„åŒºåˆ«

### æ–°å¢ç›®å½•/æ–‡ä»¶

```diff
+ docs/CHANGELOG.md                              # æ–‡æ¡£å˜æ›´æ—¥å¿—
+ docs/craft/                                    # CRaFT å¼€å‘æ–‡æ¡£ç›®å½•
+ docs/zh-CN/                                    # ä¸­æ–‡æ–‡æ¡£ç›®å½•
+ prismatic/training/craft_utils.py             # CRaFT æ ¸å¿ƒå·¥å…·
+ craft_experiments/                             # CRaFT å®éªŒè„šæœ¬
+ vla-scripts/finetune.py (å·²ä¿®æ”¹)              # é›†æˆ CRaFT è®­ç»ƒé€»è¾‘
```

### ä¿æŒä¸å˜çš„æ ¸å¿ƒæ–‡ä»¶

```
âœ… prismatic/models/                             # æ¨¡å‹æ¶æ„ï¼ˆæœªä¿®æ”¹ï¼‰
âœ… prismatic/vla/                                # VLA æ¨¡å—ï¼ˆæœªä¿®æ”¹ï¼‰
âœ… experiments/robot/                            # è¯„ä¼°ä»£ç ï¼ˆæœªä¿®æ”¹ï¼‰
âœ… pretrained_models/                            # é¢„è®­ç»ƒæ¨¡å‹ï¼ˆæœªä¿®æ”¹ï¼‰
```

---

## ğŸš€ å¿«é€Ÿå¯¼èˆª

### æˆ‘æƒ³...

- **äº†è§£ CRaFT æ ¸å¿ƒåŸç†** â†’ é˜…è¯» `docs/IDEA.md`ï¼ˆå—ä¿æŠ¤æ–‡æ¡£ï¼‰
- **æŸ¥çœ‹å¼€å‘è¿›åº¦** â†’ é˜…è¯» `docs/craft/craft_progress.md`
- **è¿è¡Œ Table 1 å®éªŒ** â†’ æ‰§è¡Œ `craft_experiments/01_main_results/run_table1_experiments.sh`
- **ç†è§£ CRaFT ä»£ç ** â†’ é˜…è¯» `prismatic/training/craft_utils.py`ï¼ˆ517è¡Œä¸­æ–‡æ³¨é‡Šï¼‰
- **è§£æè¯„ä¼°æ—¥å¿—** â†’ ä½¿ç”¨ `craft_experiments/common_utils/log_parser.py`
- **æŸ¥çœ‹æ–‡æ¡£å˜æ›´** â†’ é˜…è¯» `docs/CHANGELOG.md`

### æˆ‘æ˜¯...

- **æ–°æ‰‹å¼€å‘è€…** â†’ ç­‰å¾… `docs/zh-CN/02_å¿«é€Ÿå¼€å§‹.md`ï¼ˆStep 3 åˆ›å»ºï¼‰
- **è®ºæ–‡å¤ç°è€…** â†’ æŸ¥çœ‹ `craft_experiments/*/README.md` å’Œå®éªŒè„šæœ¬
- **ä»£ç è´¡çŒ®è€…** â†’ é˜…è¯» `docs/CONTEXT.md` å’Œ `craft_utils.py`
- **æ–‡æ¡£ç»´æŠ¤è€…** â†’ éµå¾ª `docs/CHANGELOG.md` çš„è®°å½•è§„èŒƒ

---

## ğŸ“Œ é‡è¦æé†’

1. **å—ä¿æŠ¤æ–‡ä»¶**: `docs/CONTEXT.md` å’Œ `docs/IDEA.md` ç»å¯¹ä¸å¯ä¿®æ”¹
2. **ä¸­æ–‡ä¼˜å…ˆ**: æ‰€æœ‰æ–°å¢æ–‡æ¡£å’Œæ³¨é‡Šå¿…é¡»ä½¿ç”¨ä¸­æ–‡
3. **å˜æ›´è¿½è¸ª**: æ‰€æœ‰æ–‡æ¡£å˜æ›´å¿…é¡»è®°å½•åˆ° `docs/CHANGELOG.md`
4. **ä»£ç ä¼˜å…ˆ**: æ–‡æ¡£å¿…é¡»åŸºäºå®é™…ä»£ç æ’°å†™ï¼Œä¸èƒ½è‡†æµ‹

---

**ç›®å½•ç»“æ„æ•´ç†å®Œæˆï¼å‡†å¤‡è¿›å…¥ Step 3ï¼šæ’°å†™å…¨å¥—ä¸­æ–‡æ–‡æ¡£ã€‚**

